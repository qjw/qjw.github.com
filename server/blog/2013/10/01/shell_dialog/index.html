<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
	<script type="text/javascript" src="/js/jquery-1.7.1.min.js"></script>
	<script type="text/javascript">
    var switch_flag_=0
    $(document).ready(function(){
            $("#float_top_right").css({ top: "10px",right: "10px", width: "200", position: "fixed", background: "#99ff00" })
                .css({"border-style": "solid"});
            $("#float_top_right").prepend("<div id=float_top_right_header>点击切换位置</div>");
            $("#float_top_right_header").css({ width: "100%"}).css({ height: "20"})
                .css({ background: "#9900ff" }).css("cursor","pointer")
            
            // OnClick做实际的事情
            $("#float_top_right_header").click(function(event){
                event.preventDefault();
                if(switch_flag_){
                    $("#float_top_right").css({ bottom: ""});
                    $("#float_top_right").css({ top: "10px"});
                }else{
                    $("#float_top_right").css({ top: ""});
                    $("#float_top_right").css({ bottom: "10px"});
                }
                switch_flag_= !switch_flag_;
            });
	})
	</script>
    <title>shell dialog简介</title>
</head>
<body>
    <table align="left" border="0" cellpadding="0" cellspacing="0" style="width: 100%; ">
        <tbody>
            <tr>
                <td>
                    <link href="/js/google-code-prettify/prettify.css" type="text/css" rel="stylesheet"/>
<script type="text/javascript" src="/js/google-code-prettify/prettify.js"></script>
<script type="text/javascript">
$(document).ready(function(){
    $('pre').addClass('prettyprint linenums:0') //添加Google code Hight需要的class
	
	// 导入Prettify的javascript
    prettyPrint()
})
</script>
<strong>导航：[<a href="/">首页</a>]->[<a href="/categories/bash/">bash</a>]->[<a href="/blog/2013/10/01/shell_dialog">shell dialog简介</a>]</strong>

<h2>手册</h2>

<pre><code>* Display dialog boxes from shell scripts *

Usage: dialog &lt;options&gt; { --and-widget &lt;options&gt; }
where options are "common" options, followed by "box" options

Special options:
  [--create-rc "file"]
Common options:
  [--ascii-lines] [--aspect &lt;ratio&gt;] [--backtitle &lt;backtitle&gt;]
  [--begin &lt;y&gt; &lt;x&gt;] [--cancel-label &lt;str&gt;] [--clear] [--colors]
  [--column-separator &lt;str&gt;] [--cr-wrap] [--date-format &lt;str&gt;]
  [--default-item &lt;str&gt;] [--defaultno] [--exit-label &lt;str&gt;]
  [--extra-button] [--extra-label &lt;str&gt;] [--help-button]
  [--help-label &lt;str&gt;] [--help-status] [--ignore] [--input-fd &lt;fd&gt;]
  [--insecure] [--item-help] [--keep-tite] [--keep-window]
  [--max-input &lt;n&gt;] [--no-cancel] [--no-collapse] [--no-kill]
  [--no-label &lt;str&gt;] [--no-lines] [--no-ok] [--no-shadow] [--nook]
  [--ok-label &lt;str&gt;] [--output-fd &lt;fd&gt;] [--output-separator &lt;str&gt;]
  [--print-maxsize] [--print-size] [--print-version] [--quoted]
  [--scrollbar] [--separate-output] [--separate-widget &lt;str&gt;] [--shadow]
  [--single-quoted] [--size-err] [--sleep &lt;secs&gt;] [--stderr] [--stdout]
  [--tab-correct] [--tab-len &lt;n&gt;] [--time-format &lt;str&gt;] [--timeout &lt;secs&gt;]
  [--title &lt;title&gt;] [--trace &lt;file&gt;] [--trim] [--version] [--visit-items]
  [--yes-label &lt;str&gt;]
Box options:
  --calendar     &lt;text&gt; &lt;height&gt; &lt;width&gt; &lt;day&gt; &lt;month&gt; &lt;year&gt;
  --checklist    &lt;text&gt; &lt;height&gt; &lt;width&gt; &lt;list height&gt; &lt;tag1&gt; &lt;item1&gt; &lt;status1&gt;...
  --dselect      &lt;directory&gt; &lt;height&gt; &lt;width&gt;
  --editbox      &lt;file&gt; &lt;height&gt; &lt;width&gt;
  --form         &lt;text&gt; &lt;height&gt; &lt;width&gt; &lt;form height&gt; &lt;label1&gt; \
        &lt;l_y1&gt; &lt;l_x1&gt; &lt;item1&gt; &lt;i_y1&gt; &lt;i_x1&gt; &lt;flen1&gt; &lt;ilen1&gt;...
  --fselect      &lt;filepath&gt; &lt;height&gt; &lt;width&gt;
  --gauge        &lt;text&gt; &lt;height&gt; &lt;width&gt; [&lt;percent&gt;]
  --infobox      &lt;text&gt; &lt;height&gt; &lt;width&gt;
  --inputbox     &lt;text&gt; &lt;height&gt; &lt;width&gt; [&lt;init&gt;]
  --inputmenu    &lt;text&gt; &lt;height&gt; &lt;width&gt; &lt;menu height&gt; &lt;tag1&gt; &lt;item1&gt;...
  --menu         &lt;text&gt; &lt;height&gt; &lt;width&gt; &lt;menu height&gt; &lt;tag1&gt; &lt;item1&gt;...
  --mixedform    &lt;text&gt; &lt;height&gt; &lt;width&gt; &lt;form height&gt; &lt;label1&gt; &lt;l_y1&gt; \
        &lt;l_x1&gt; &lt;item1&gt; &lt;i_y1&gt; &lt;i_x1&gt; &lt;flen1&gt; &lt;ilen1&gt; &lt;itype&gt;...
  --mixedgauge   &lt;text&gt; &lt;height&gt; &lt;width&gt; &lt;percent&gt; &lt;tag1&gt; &lt;item1&gt;...
  --msgbox       &lt;text&gt; &lt;height&gt; &lt;width&gt;
  --passwordbox  &lt;text&gt; &lt;height&gt; &lt;width&gt; [&lt;init&gt;]
  --passwordform &lt;text&gt; &lt;height&gt; &lt;width&gt; &lt;form height&gt; &lt;label1&gt; &lt;l_y1&gt; \
        &lt;l_x1&gt; &lt;item1&gt; &lt;i_y1&gt; &lt;i_x1&gt; &lt;flen1&gt; &lt;ilen1&gt;...
  --pause        &lt;text&gt; &lt;height&gt; &lt;width&gt; &lt;seconds&gt;
  --progressbox  &lt;height&gt; &lt;width&gt;
  --radiolist    &lt;text&gt; &lt;height&gt; &lt;width&gt; &lt;list height&gt; &lt;tag1&gt; &lt;item1&gt; &lt;status1&gt;...
  --tailbox      &lt;file&gt; &lt;height&gt; &lt;width&gt;
  --tailboxbg    &lt;file&gt; &lt;height&gt; &lt;width&gt;
  --textbox      &lt;file&gt; &lt;height&gt; &lt;width&gt;
  --timebox      &lt;text&gt; &lt;height&gt; &lt;width&gt; &lt;hour&gt; &lt;minute&gt; &lt;second&gt;
  --yesno        &lt;text&gt; &lt;height&gt; &lt;width&gt;
</code></pre>

<h2>常用选项</h2>

<ol>
<li>--backtitle "welcome" : 背景标题</li>
<li>--title : 窗口标题</li>
<li>--no-shadow/--shadow : 是否显示窗口阴影</li>
<li>--colors : 支持字体颜色</li>
<li>--defaultno ：默认NO(yesno默认是yes)</li>
<li>--ok-label : 设置ok按钮的字符</li>
<li>--yes-label/--no-lable : 设置yes/no按钮的字符</li>
<li>--exit-label ：设置退出按钮的字符</li>
<li>--insecure : 密码框时,用*代替,而不是啥都没有</li>
</ol>


<p>解释内含在对话框的”\Z”的顺序属性。他告诉对话框设置颜色或者视频属性:
0到7是ANSI码在curses中分别指定为:黑色，红色，绿色，黄色，蓝色，紫红色，蓝绿色和白色。
粗体用’b’设置，重设用‘B’。背面用’r’设置，重设用’R’。下划线用’u’设置，重设用’U’。所做出的改动将会累积起来。例如，”\Zb\Z1’”表示文本显示红色。恢复正常的设置用”\Zn”</p>

<h2>常用窗口</h2>

<pre><code>#/bin/bash
# 消息窗口(带ok按钮)
dialog --backtitle "welcome" --title "hello world" --msgbox "content" 20 100

# 确认窗口(带yes/no按钮),根据返回值判断点击那个按钮,yes返回0
dialog --backtitle "welcome" --title "hello world" --yesno "content" 20 100

#解析颜色
dialog --backtitle "welcome" --title "hello world" --colors --msgbox "\Z2content\Zu" 20 100 

# 输出结果需要文件重定向,根据返回值判断点击那个按钮,yes返回0
dialog --inputbox "tips:" 10 30 "default string" 2&gt; /tmp/input

# 直接读取某个文件显示(带exit按钮)
dialog --textbox /etc/fstab  200 0

# 菜单
# 输出结果需要文件重定向,根据返回值判断点击那个按钮,yes返回0
#menu         &lt;text&gt; &lt;height&gt; &lt;width&gt; &lt;menu height&gt;
dialog --menu "menu test" 10 100 10  key1 value1 key2 value2 2&gt; /tmp/input

#单选框(on/off)
dialog --radiolist "radiolist" 10 100 10 a1 a2 on b1 b2 off 2&gt; /tmp/input

#复选框
dialog --checklist "checklist" 10 100 10 a1 a2 on b1 b2 off

# 密码框
dialog --insecure --passwordbox pwd 10 100 default 2&gt; /tmp/input

#进度条
fun()
{
    for((i=0;i&lt;=100;i++))                                                                                                                  
    do  
        echo XXX
        echo "do sth with percent '${i}' "
        echo XXX
        echo "${i}"
        sleep 0.1 
    done
}

fun | dialog --gauge "title" 10 100 0

#表单
dialog --form "input" 10 100 4 \ 
    ip 1 1 "192.168.1.1" 1 10 50 50 \
    mask 2 1 "255.255.255.0" 2 10 50 50 \                                                                                                  
    gateway 3 1 "192.168.1.1" 3 10 50 50
</code></pre>

<h2>参考</h2>

<ol>
<li><a href="http://blog.csdn.net/zhuying_linux/article/details/5465290">http://blog.csdn.net/zhuying_linux/article/details/5465290</a></li>
<li><a href="http://bbs.chinaunix.net/thread-1776555-1-1.html">http://bbs.chinaunix.net/thread-1776555-1-1.html</a></li>
<li><a href="http://www.ibm.com/developerworks/cn/aix/library/au-spunix_guiscripting/">http://www.ibm.com/developerworks/cn/aix/library/au-spunix_guiscripting/</a></li>
<li><a href="http://molinux.blog.51cto.com/2536040/466001">http://molinux.blog.51cto.com/2536040/466001</a></li>
<li><a href="http://blog.chinaunix.net/uid-24921475-id-2547158.html">http://blog.chinaunix.net/uid-24921475-id-2547158.html</a></li>
</ol>



<br>
<br>

<script>
(function() {
  var cx = '000743863249122818147:j_aeulgywie';
  var gcse = document.createElement('script'); gcse.type = 'text/javascript';
  gcse.async = true;
  gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
      '//www.google.com/cse/cse.js?cx=' + cx;
  var s = document.getElementsByTagName('script')[0];
  s.parentNode.insertBefore(gcse, s);
})();
</script>
<gcse:search></gcse:search>

<hr>
<br>
<div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'qjw'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

<div id=float_top_right>
<h4>&nbsp;分类浏览[bash]</h4>
<ul>
    
    <li>
    <a href="/categories/other/" title="查看此类别的所有文章">
        other(20)</a>
    </li>
    
    <li>
    <a href="/categories/www/" title="查看此类别的所有文章">
        www(10)</a>
    </li>
    
    <li>
    <a href="/categories/bash/" title="查看此类别的所有文章">
        bash(42)</a>
    </li>
    
    <li>
    <a href="/categories/wtl/" title="查看此类别的所有文章">
        wtl(14)</a>
    </li>
    
    <li>
    <a href="/categories/cpp/" title="查看此类别的所有文章">
        cpp(43)</a>
    </li>
    
    <li>
    <a href="/categories/network/" title="查看此类别的所有文章">
        network(15)</a>
    </li>
    
    <li>
    <a href="/categories/windows/" title="查看此类别的所有文章">
        windows(15)</a>
    </li>
    
    <li>
    <a href="/categories/lua/" title="查看此类别的所有文章">
        lua(4)</a>
    </li>
    
    <li>
    <a href="/categories/js/" title="查看此类别的所有文章">
        js(6)</a>
    </li>
    
    <li>
    <a href="/categories/wingui/" title="查看此类别的所有文章">
        wingui(18)</a>
    </li>
    
    <li>
    <a href="/categories/linux/" title="查看此类别的所有文章">
        linux(17)</a>
    </li>
    
    <li>
    <a href="/categories/game/" title="查看此类别的所有文章">
        game(3)</a>
    </li>
    
</ul>
</div>


                </td>
                <td style="width: 210px; ">
                    &nbsp;
                </td>
            </tr>
        </tbody>
    </table>
</body>
</html>
