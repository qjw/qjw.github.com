---
layout: post
title: 使用novnc实现vnc web化
category: other
---

##安装

下载[novnc](https://codeload.github.com/kanaka/noVNC/legacy.zip/master)压缩包

解压到linux某目录，确保linux安装有python



##使用

	root@qjw-VirtualBox:~/kanaka-noVNC-afbeb98/utils# ./websockify.py --web=./.. 5900 192.168.2.21:5900
	WARNING: no 'numpy' module, HyBi protocol will be slower
	WebSocket server settings:
	  - Listen on :5900
	  - Flash security policy server
	  - Web server. Web root: /root/kanaka-noVNC-afbeb98
	  - No SSL/TLS support (no cert file)
	  - proxying from :5900 to 192.168.2.21:5900


访问<http://192.168.1.8:5900/vnc.html>或者<http://192.168.1.8:5900/vnc_auto.html>

#### Unix Socket

	root@qjw-VirtualBox:~/kanaka-noVNC-afbeb98/utils# ./websockify.py --web=./.. 5900 --unix-target /tmp/fuck
	WARNING: no 'numpy' module, HyBi protocol will be slower
	WebSocket server settings:
	  - Listen on :5900
	  - Flash security policy server
	  - Web server. Web root: /root/kanaka-noVNC-afbeb98
	  - No SSL/TLS support (no cert file)
	  - proxying from :5900 to /tmp/fuck
	  
####多目标

	root@qjw-VirtualBox:~/kanaka-noVNC-afbeb98/utils# ./websockify.py --web=./.. 5900 --target-config=/tmp/fuck
	WARNING: no 'numpy' module, HyBi protocol will be slower
	WebSocket server settings:
	  - Listen on :5900
	  - Flash security policy server
	  - Web server. Web root: /root/kanaka-noVNC-afbeb98
	  - No SSL/TLS support (no cert file)
	  - proxying from :5900 to targets in /tmp/fuck
	  
	 14: 192.168.1.5: Plain non-SSL (ws://) WebSocket connection
	 14: 192.168.1.5: Version hybi-13, base64: 'False'
	 14: 192.168.1.5: Path: '/websockify'
	 14: 192.168.1.5: Token not present
	 21: 192.168.1.5: Plain non-SSL (ws://) WebSocket connection
	 21: 192.168.1.5: Version hybi-13, base64: 'False'
	 21: 192.168.1.5: Path: '/websockify/?token=abcdefg'
	 21: connecting to: 192.168.1.8:5900
---

	root@qjw-VirtualBox:/tmp/fuck# ls
	a
	root@qjw-VirtualBox:/tmp/fuck# cat a 
	abcdefg: 192.168.1.8:5900
	  
访问[http://192.168.1.8:5900/vnc_auto.html?path=websockify/?token=abcdefg](http://192.168.1.8:5900/vnc_auto.html?path=websockify%2f%3ftoken%3dabcdefg)。*后面的部分注意url编码*。

##参考
1. <http://kanaka.github.io/noVNC/>
1. <http://www.vpsee.com/2013/07/integrating-novnc-with-our-vm-control-panel/>
1. <http://xiexiejiao.cn/java/html5-instance-html5-novnc-client.html>