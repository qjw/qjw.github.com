---
layout: post
title: Bash学习-字符串操作
category: bash
---

####字符串长度
        str="abcdefg"
        # 计算长度
        echo "str:${str},length ${#str}" # str:abcdefg,length 7
        echo "length `expr length $str`"
        str="abde"
        echo "str:${str},length ${#str}" # str:abde,length 4
        
####提取字串
        str="abcdefg"
        # 从第二个字符到结尾
        echo "${str:1}" # bcdefg
        # 从第三个字符开始截取2个字符
        echo "${str:2:2}" # cd

        # 从倒数第二个字符到结尾
        echo "${str:(-2)}" # fg
        # 注意:后面的空格
        echo "${str: -2}" # fg
        echo "${str:(-2):1}" # f

####子串削除
* ${string#substring} 从$string的开头位置截掉最短匹配的$substring.
* ${string##substring} 从$string的开头位置截掉最长匹配的$substring.
* ${string%substring} 从$string的结尾位置截掉最短匹配的$substring.
* ${string%%substring} 从$string的结尾位置截掉最长匹配的$substring.
        declare var="abc/def/ghi"
        echo "${var}"
        echo ${var#*/} # def/ghi
        echo "${var##*/}" # ghi
        echo "${var%/*}" # abc/def
        echo "${var%%/*}" # abc

####字串替换
* ${string/substring/replacement} 使用$replacement来替换第一个匹配的$substring.
* ${string//substring/replacement} 使用$replacement来替换所有匹配的$substring.
        declare var="abc/def/ghi/abc"
        # 替换普通字符
        echo "${var/b/c}" # acc/def/ghi/abc
        echo "${var//b/c}" # acc/def/ghi/acc

        # 替换特殊字符
        echo "${var//\//\\}" # acc/def/ghi/abc # abc\def\ghi\abc
        var="abc\def\ghi\abc"
        # 注意后面的/没有用转义
        echo "${var//\\//}" # acc/def/ghi/abc # abc/def/ghi/abc




